{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport Sqlite from \"./Sqlite\";\n\nvar ContatosDao = function () {\n  function ContatosDao() {\n    _classCallCheck(this, ContatosDao);\n  }\n\n  _createClass(ContatosDao, null, [{\n    key: \"Insert\",\n    value: function Insert(value) {\n      return new Promise(function (resolve, reject) {\n        debugger;\n        var db = Sqlite.getDb();\n        db.transaction(function (tx) {\n          var parameters = [value.id, value.nome, value.telefone];\n          tx.executeSql(\"insert or replace into Contatos values (\" + parameters.map(function () {\n            return '?';\n          }).join(',') + \")\", parameters);\n        }, reject, resolve);\n      });\n    }\n  }, {\n    key: \"GetEmail\",\n    value: function GetEmail(email) {\n      return new Promise(function (resolve, reject) {\n        var db = Sqlite.getDb();\n        var query = \"select * from Contatos where email = \" + email;\n        db.transaction(function (tx) {\n          tx.executeSql(query, [], function (_, _ref) {\n            var rows = _ref.rows;\n            return resolve(rows);\n          }, function (_, error) {\n            return reject(error);\n          });\n        });\n      });\n    }\n  }, {\n    key: \"GetContatos\",\n    value: function GetContatos() {\n      return new Promise(function (resolve, reject) {\n        var db = Sqlite.getDb();\n        var query = 'select * from Contatos';\n        db.transaction(function (tx) {\n          tx.executeSql(query, [], function (_, _ref2) {\n            var rows = _ref2.rows;\n            return resolve(rows);\n          }, function (_, error) {\n            return reject(error);\n          });\n        });\n      });\n    }\n  }]);\n\n  return ContatosDao;\n}();\n\nexport { ContatosDao as default };","map":{"version":3,"sources":["D:/Projects/Aula/LocalityMap/db/ContatosDao.js"],"names":["Sqlite","ContatosDao","value","Promise","resolve","reject","db","getDb","transaction","tx","parameters","id","nome","telefone","executeSql","map","join","email","query","_","rows","error"],"mappings":";;AAAA,OAAOA,MAAP;;IAEqBC,W;;;;;;;WAEjB,gBAAcC,KAAd,EAAqB;AACjB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC;AACA,YAAMC,EAAE,GAAGN,MAAM,CAACO,KAAP,EAAX;AAEAD,QAAAA,EAAE,CAACE,WAAH,CAAe,UAAAC,EAAE,EAAI;AACjB,cAAMC,UAAU,GAAG,CACfR,KAAK,CAACS,EADS,EAEfT,KAAK,CAACU,IAFS,EAGfV,KAAK,CAACW,QAHS,CAAnB;AAKAJ,UAAAA,EAAE,CAACK,UAAH,8CAAyDJ,UAAU,CAACK,GAAX,CAAe;AAAA,mBAAM,GAAN;AAAA,WAAf,EAA0BC,IAA1B,CAA+B,GAA/B,CAAzD,QAAiGN,UAAjG;AACH,SAPD,EAOGL,MAPH,EAOWD,OAPX;AAQH,OAZM,CAAP;AAaH;;;WAED,kBAAgBa,KAAhB,EAAuB;AACnB,aAAO,IAAId,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,YAAMC,EAAE,GAAGN,MAAM,CAACO,KAAP,EAAX;AAEA,YAAMW,KAAK,6CAA2CD,KAAtD;AAEAX,QAAAA,EAAE,CAACE,WAAH,CAAe,UAAAC,EAAE,EAAI;AACjBA,UAAAA,EAAE,CAACK,UAAH,CAAcI,KAAd,EAAqB,EAArB,EAAyB,UAACC,CAAD;AAAA,gBAAMC,IAAN,QAAMA,IAAN;AAAA,mBAAiBhB,OAAO,CAACgB,IAAD,CAAxB;AAAA,WAAzB,EAAyD,UAACD,CAAD,EAAIE,KAAJ,EAAc;AAAE,mBAAOhB,MAAM,CAACgB,KAAD,CAAb;AAAsB,WAA/F;AACH,SAFD;AAGH,OARM,CAAP;AASH;;;WAED,uBAAqB;AACjB,aAAO,IAAIlB,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,YAAMC,EAAE,GAAGN,MAAM,CAACO,KAAP,EAAX;AAEA,YAAMW,KAAK,GAAG,wBAAd;AAEAZ,QAAAA,EAAE,CAACE,WAAH,CAAe,UAAAC,EAAE,EAAI;AACjBA,UAAAA,EAAE,CAACK,UAAH,CAAcI,KAAd,EAAqB,EAArB,EAAyB,UAACC,CAAD;AAAA,gBAAMC,IAAN,SAAMA,IAAN;AAAA,mBAAiBhB,OAAO,CAACgB,IAAD,CAAxB;AAAA,WAAzB,EAAyD,UAACD,CAAD,EAAIE,KAAJ,EAAc;AAAE,mBAAOhB,MAAM,CAACgB,KAAD,CAAb;AAAsB,WAA/F;AACH,SAFD;AAGH,OARM,CAAP;AASH;;;;;;SAxCgBpB,W","sourcesContent":["import Sqlite from './Sqlite'\r\n\r\nexport default class ContatosDao {\r\n\r\n    static Insert(value) {\r\n        return new Promise((resolve, reject) => {\r\n            debugger\r\n            const db = Sqlite.getDb()\r\n\r\n            db.transaction(tx => {\r\n                const parameters = [\r\n                    value.id,\r\n                    value.nome,\r\n                    value.telefone,\r\n                ]\r\n                tx.executeSql(`insert or replace into Contatos values (${parameters.map(() => '?').join(',')})`, parameters)\r\n            }, reject, resolve)\r\n        })\r\n    }\r\n\r\n    static GetEmail(email) {\r\n        return new Promise((resolve, reject) => {\r\n            const db = Sqlite.getDb()\r\n\r\n            const query = `select * from Contatos where email = ${email}`\r\n\r\n            db.transaction(tx => {\r\n                tx.executeSql(query, [], (_, { rows }) => resolve(rows), (_, error) => { return reject(error) })\r\n            })\r\n        })\r\n    }\r\n\r\n    static GetContatos() {\r\n        return new Promise((resolve, reject) => {\r\n            const db = Sqlite.getDb()\r\n\r\n            const query = 'select * from Contatos'\r\n\r\n            db.transaction(tx => {\r\n                tx.executeSql(query, [], (_, { rows }) => resolve(rows), (_, error) => { return reject(error) })\r\n            })\r\n        })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}